<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Absolutely Not — Dashboard</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#06040d;
      --panel:#120b22;
      --accent:#8b7bff;
      --gold:#ffd36b;
      --red:#ff5c5c;
      --text:#f5f3ff;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100vh;
      background:
        radial-gradient(circle at top, #221a55, var(--bg) 65%),
        url('https://www.transparenttextures.com/patterns/black-paper.png');
      color:var(--text);
      font-family:'Inter', system-ui, sans-serif;
    }

    .dashboard{
      display:grid;
      grid-template-columns:1fr 1fr;
      grid-template-rows:auto 1fr auto;
      gap:24px;
      padding:32px;
      max-width:1600px;
      margin:0 auto;
    }

    header{
      grid-column:1 / -1;
      text-align:center;
      padding-bottom:8px;
    }

    header h1{
      font-family:'Cinzel', serif;
      font-size:clamp(2.5rem,5vw,4.5rem);
      letter-spacing:6px;
      margin:0;
      text-shadow:0 0 25px rgba(139,123,255,.6);
    }

    header p{
      opacity:.6;
      margin:6px 0 0;
      letter-spacing:2px;
    }

    .panel{
      background:linear-gradient(180deg,#1e1550,var(--panel));
      border:1px solid rgba(139,123,255,.45);
      border-radius:26px;
      padding:32px;
      box-shadow:
        inset 0 0 40px rgba(139,123,255,.15),
        0 0 60px rgba(0,0,0,.7);
      position:relative;
      overflow:hidden;
    }

    .panel::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg,transparent,rgba(255,255,255,.04),transparent);
      pointer-events:none;
    }

    .panel h2{
      font-family:'Cinzel', serif;
      letter-spacing:3px;
      text-align:center;
      margin:0;
      font-size:1.4rem;
      opacity:.85;
    }

    .content{
      margin-top:28px;
      text-align:center;
      font-size:clamp(1.6rem,3vw,2.6rem);
      line-height:1.3;
    }

    #escalation.hidden{
      filter:blur(14px);
      opacity:.35;
    }

    .winner{
      grid-column:1 / -1;
      text-align:center;
      font-family:'Cinzel', serif;
      font-size:clamp(2.8rem,6vw,5rem);
      color:var(--gold);
      letter-spacing:4px;
      opacity:0;
      animation:points 3s ease forwards;
      text-shadow:0 0 40px rgba(255,211,107,.8);
    }

    @keyframes points{
      0%{opacity:0; transform:scale(.6)}
      35%{opacity:1; transform:scale(1.1)}
      80%{opacity:1}
      100%{opacity:0; transform:scale(1)}
    }

    footer{
      grid-column:1 / -1;
      display:flex;
      justify-content:space-between;
      opacity:.5;
      font-size:.85rem;
      letter-spacing:1px;
    }

    .status-dot{
      width:10px;
      height:10px;
      background:#4cff4c;
      border-radius:50%;
      display:inline-block;
      margin-right:8px;
      box-shadow:0 0 10px #4cff4c;
    }
  </style>
</head>
<body>

  <div class="dashboard">

    <header>
      <h1>Absolutely Not</h1>
      <p>Dashboard Mode</p>
    </header>

    <section class="panel">
      <h2>SETUP</h2>
      <div id="setup" class="content">Waiting for players…</div>
    </section>

    <section class="panel">
      <h2>ESCALATION</h2>
      <div id="escalation" class="content hidden">???</div>
    </section>

    <div id="winner" class="winner">+10 HOUSE POINTS</div>

    <footer>
      <div><span class="status-dot"></span>CONNECTED</div>
      <div>TV / Projector Safe</div>
    </footer>

  </div>

  <script>
    const channel = new BroadcastChannel('absolutely-not');

    const setupEl = document.getElementById('setup');
    const escalationEl = document.getElementById('escalation');
    const winnerEl = document.getElementById('winner');

    channel.onmessage = e => {
      const m = e.data;

      if(m.type === 'setup'){
        setupEl.textContent = m.text;
      }

      if(m.type === 'hideEscalation'){
        escalationEl.textContent = '???';
        escalationEl.classList.add('hidden');
      }

      if(m.type === 'revealEscalation'){
        escalationEl.textContent = m.text;
        escalationEl.classList.remove('hidden');
      }

      if(m.type === 'winner'){
        winnerEl.textContent = `+10 ${m.house || 'HOUSE'} POINTS`;
        winnerEl.style.animation = 'none';
        winnerEl.offsetHeight;
        winnerEl.style.animation = null;
      }
    };
  </script>

</body>
</html>
