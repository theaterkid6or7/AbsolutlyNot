<!-- ===================== index.html ===================== -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Absolutely Not — Player</title>
<style>
  body{margin:0;min-height:100vh;background:#0b0816;color:#fff;font-family:system-ui}
  .screen{display:none;min-height:100vh;align-items:center;justify-content:center;flex-direction:column;padding:24px}
  .screen.active{display:flex}
  button{padding:16px 28px;font-size:1.1rem;border-radius:14px;border:none;background:#8b7bff;color:#000;font-weight:700;cursor:pointer}
  input{padding:14px;border-radius:12px;border:none;font-size:1.1rem;margin-bottom:20px}
</style>
</head>
<body>

<div id="join" class="screen active">
  <h1>Absolutely Not</h1>
  <input id="name" placeholder="Your name" />
  <button onclick="joinPlayer()">JOIN GAME</button>
  <br><br>
  <button onclick="openDashboard()">OPEN DASHBOARD</button>
</div>

<div id="player" class="screen">
  <h2 id="role">Waiting…</h2>
  <button onclick="submitCard()">SUBMIT CARD</button>
</div>

<script>
  const channel = new BroadcastChannel('absolutely-not');
  let playerName='';

  function joinPlayer(){
    playerName=document.getElementById('name').value.trim();
    if(!playerName) return alert('name required');
    document.getElementById('join').classList.remove('active');
    document.getElementById('player').classList.add('active');
    channel.postMessage({type:'playerJoin',name:playerName});
  }

  function openDashboard(){
    window.open('dashboard.html','_blank');
  }

  function submitCard(){
    channel.postMessage({type:'cardSubmitted',player:playerName});
  }
</script>
</body>
</html>
